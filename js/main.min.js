function formInputValidity(){let e=document.querySelectorAll(".custom-input");e&&e.forEach(e=>{e.addEventListener("blur",function(){e.checkValidity()?e.classList.remove("error"):e.classList.add("error")})})}document.addEventListener("DOMContentLoaded",function(){formInputValidity()});const form=document.querySelector(".form"),inputs=document.querySelectorAll(".custom-input");async function handleSubmit(e){e.preventDefault();let t=document.querySelector("#name"),r=document.querySelector("#phone"),a=document.querySelector("#email"),o=document.querySelector("#city"),l=document.querySelector("#state");if(t.checkValidity()&&r.checkValidity()&&a.checkValidity()){console.log("Submitting form..."),console.log("Data sent:");let i=document.querySelector(".btn-form");i.disabled=!0,i.setAttribute("value","Submitted"),i.classList.add("sent");let s=new FormData;s.append("name",t.value),s.append("phone",r.value),s.append("email",a.value),o.value?s.append("city",o.value):s.append("city","Not specified"),l.value?s.append("state",l.value):s.append("state","Not specified"),s.forEach((e,t)=>{console.log(`- ${t}: ${e}`)}),fetch("https://formsws-hilstaging-com-0adj9wt8gzyq.runscope.net/solar",{method:form.method,body:s,headers:{Accept:"application/json"}}).then(e=>{e.ok?(console.log(e),console.log("You are a winner!"),form.reset()):console.log(e)}).catch(e=>{console.log("Error: "+e),form.reset()})}else{t.checkValidity()?t.classList.remove("error"):t.classList.add("error"),r.checkValidity()?r.classList.remove("error"):r.classList.add("error"),a.checkValidity()?a.classList.remove("error"):a.classList.add("error");return}}form.addEventListener("submit",handleSubmit);